targets:
  $default:
    builders:
      build_web_compilers|entrypoint:
        generate_for:
          include:
          - web/**.dart
          exclude:
          - web/example/codelabs/**.dart
        options:
          dart2js_args:
          - --minify
          - --fast-startup
      json_serializable:
        generate_for:
          include:
          - lib/**.dart
          exclude:
          - web/example/codelabs/**.dart

# Don't clean up .dart files, since web/example/codelabs contains .dart files
# that need to be served
# TODO(johnpryan): Remove this, since these codelabs are only for testing.
global_options:
  build_web_compilers:dart_source_cleanup:
    release_options:
      enabled: false